(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{106:function(e,t,a){},135:function(e,t,a){},139:function(e,t,a){e.exports={Header:"AssignmentDetail_Header__1Z7LK",Icons:"AssignmentDetail_Icons__2X-iy"}},14:function(e,t,a){e.exports={Container:"Auth_Container__1mT3e",H1:"Auth_H1__SVw0Z",Font:"Auth_Font__YU0Ko",Label:"Auth_Label__14OKz",P:"Auth_P__2ZlBN",Vr:"Auth_Vr__2QzLD",googleBtn:"Auth_googleBtn__VKcFL",Button:"Auth_Button__3mDaR",Input:"Auth_Input__2LQ-q",Error:"Auth_Error__BkJd8"}},140:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(33),r=a.n(n),c=a(15),i=(a(106),a(107),a(11)),o=a(100),l=a(16),d=a(17),j=a(20),u=a(19),h=a(7),b=a.p+"static/media/googlelogo_clr_74x24px.a43fa784.svg",m=a(48),p=a(23),O=a.n(p),x=a(31),f=a(10),g=a(3),v=a(91),y=a.n(v).a.create({baseURL:"https://classroombyus.herokuapp.com/"});y.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",y.defaults.headers.post["Access-Control-Allow-Origin"]="*",y.interceptors.request.use((function(e){var t=JSON.parse(localStorage.getItem("user"));if(t){var a=t.token;a&&(e.headers=Object.assign({"x-access-token":a},e.headers))}return e}),(function(e){return Promise.reject(e)}));var _=y,w=a(21),C=a(12),k=a(0),S=function(e){var t=Object(s.useState)(""),a=Object(h.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(""),o=Object(h.a)(c,2),l=o[0],d=o[1],j=Object(C.g)(),u=Object(i.d)((function(e){return e.user}));return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(f.a,{show:e.show,onHide:function(){return e.callback()},backdrop:"static",keyboard:!1,children:[Object(k.jsx)(f.a.Header,{closeButton:!0,style:{backgroundColor:"#FDFAF6",color:"#064420"},children:Object(k.jsx)(f.a.Title,{children:"Join Classroom"})}),Object(k.jsx)(f.a.Body,{children:Object(k.jsxs)(g.a,{children:[Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Class Code"}),Object(k.jsx)(g.a.Control,{type:"text",placeholder:"Enter Class Code",value:n,onChange:function(e){r(e.target.value)}})]}),l?Object(k.jsx)("p",{style:{color:"red"},children:l}):null,Object(k.jsx)("div",{className:"form-actions",children:Object(k.jsx)(w.a,{variant:"primary",type:"submit",onClick:function(e){(e.preventDefault(),n)?function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={_id:n,username:u.username},console.log(t),e.next=4,_.post("/api/joinClass",t);case 4:a=e.sent,console.log(a.data),"-1"===a.data?d("*You are already enrolled!"):"-2"===a.data?d("*Invalid Class Code"):(j.push("/subject?id=".concat(a.data._id)),document.querySelector(".btn-close").click());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():d("*Enter Class Code")},children:"Submit"})})]})})]})})},N=a(8),T=a(2),E=function(e){var t=Object(s.useState)({classroomName:"",description:""}),a=Object(h.a)(t,2),n=a[0],r=a[1],c=Object(i.d)((function(e){return e.user})),o=function(e){var t=e.target.value;r(Object(T.a)(Object(T.a)({},n),{},Object(N.a)({},e.target.name,t)))},l=Object(C.g)();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(f.a,{show:e.show,onHide:function(){return e.callback()},backdrop:"static",keyboard:!1,children:[Object(k.jsx)(f.a.Header,{closeButton:!0,style:{backgroundColor:"#FDFAF6",color:"#064420"},children:Object(k.jsx)(f.a.Title,{children:"Create Classroom"})}),Object(k.jsx)(f.a.Body,{children:Object(k.jsxs)(g.a,{children:[Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Classroom Name"}),Object(k.jsx)(g.a.Control,{type:"text",placeholder:"Enter Classroom Name",value:n.classroomName,onChange:o,name:"classroomName"})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Description"}),Object(k.jsx)(g.a.Control,{type:"textarea",placeholder:"Enter Classroom Description",value:n.description,onChange:o,name:"description"})]}),Object(k.jsx)("div",{class:"form-actions",children:Object(k.jsx)(w.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault(),_.post("/api/subject",{name:n.classroomName,teachersName:c.username,teachersUsername:c.username,description:n.description}).then((function(e){e.data._id&&(document.querySelector(".btn-close").click(),l.push("/subject?id=".concat(e.data._id)))}))},children:"Submit"})})]})})]})})},F=function(){var e=Object(s.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(i.d)((function(e){return e.auth})),o=Object(i.d)((function(e){return e.user})),l=Object(i.c)(),d=Object(C.h)(),j=function(){n(!1)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(m.a,{style:{borderColor:"#e0e0e0",borderBottomStyle:"solid",borderBottomWidth:"1px",padding:"10px 30px"},children:[Object(k.jsx)(m.a.Brand,{children:Object(k.jsx)(c.b,{to:"/",children:Object(k.jsx)("img",{src:b,alt:"Logo",style:{height:"5vh"}})})}),Object(k.jsx)(m.a.Toggle,{}),Object(k.jsxs)(m.a.Collapse,{className:"justify-content-end",children:[Object(k.jsx)(m.a.Text,{children:!("/subject"===d.pathname)&&r&&Object(k.jsx)("i",{onClick:function(){n(!a)},className:"fa fa-plus"})}),r&&Object(k.jsx)(m.a.Text,{children:Object(k.jsx)("i",{class:"fas fa-sign-out-alt",onClick:function(){l({type:"False_Auth"}),localStorage.clear(),window.location.reload()}})})]})]}),r&&o.role?Object(k.jsx)(S,{show:a,callback:j}):Object(k.jsx)(E,{show:a,callback:j})]})},L=a(93),A=a(94),I=a(55),B=a(14),D=a.n(B),P=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={username:"",email:"",password:"",role:0,authFlag:0,req:!0,emailVal:!1,userErr:!1,emailErr:!1,loginErr:!1},e.changeAuthFlag=function(){e.setState((function(e){return{authFlag:0===e.authFlag?1:0}}))},e.change=function(t){e.setState(Object(N.a)({},t.target.name,t.target.value),(function(){if("email"===t.target.name){var a=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(t.target.value);e.setState({emailVal:a})}0===e.state.authFlag?0===e.state.username.length||0===e.state.password.length?e.setState({req:!0}):e.setState({req:!1}):0===e.state.username.length||0===e.state.password.length||0===e.state.email.length?e.setState({req:!0}):e.setState({req:!1})}))},e.submit=function(t){if(t.preventDefault(),0===e.state.authFlag){if(e.setState({loginErr:!1}),!e.state.req){var a={username:e.state.username,password:e.state.password};_.post("/api/login",a).then((function(t){if(200===t.status){var a={username:t.data.username,email:t.data.email,role:t.data.role};e.props.setAuthTrue(a),localStorage.setItem("user",JSON.stringify(a)),e.props.history.push("/home")}else e.setState({loginErr:!0})})).catch((function(t){e.setState({loginErr:!0})}))}}else if(!e.state.req&&e.state.emailVal){e.setState({emailErr:!1,userErr:!1});var s={username:e.state.username,email:e.state.email,password:e.state.password,role:e.state.role};_.post("/api/signup",s).then((function(t){if(200===t.status)if(!0!==t.data.username&&!0!==t.data.email){var a={username:t.data.username,email:t.data.email,role:t.data.role};e.props.setAuthTrue(a),localStorage.setItem("user",JSON.stringify(a)),e.props.history.push("/home")}else!0===t.data.username&&e.setState({userErr:!0}),!0===t.data.email&&e.setState({emailErr:!0})}))}},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(k.jsxs)(k.Fragment,{children:[this.props.auth&&Object(k.jsx)(C.a,{to:"/home"}),Object(k.jsxs)(L.a,{className:D.a.Container,children:[Object(k.jsx)("h1",{className:D.a.H1,children:"CLASSROOM"}),Object(k.jsxs)(A.a,{className:"mt-3",children:[Object(k.jsxs)(I.a,{className:"col-5",children:[this.state.req&&Object(k.jsx)("p",{className:D.a.Error,children:"*All fields are required."}),1===this.state.authFlag?Object(k.jsxs)(g.a,{className:D.a.Font,children:[Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"Username",children:[Object(k.jsx)(g.a.Label,{className:D.a.Label,children:"Username"}),Object(k.jsx)(g.a.Control,{type:"text",placeholder:"Enter Username",name:"username",onChange:this.change,value:this.state.username})]}),this.state.userErr&&Object(k.jsx)("p",{className:D.a.Error,children:"*Username already exists"}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"Email",children:[Object(k.jsx)(g.a.Label,{className:D.a.Label,children:"Email address"}),Object(k.jsx)(g.a.Control,{type:"email",placeholder:"Enter email",onChange:this.change,name:"email",value:this.state.email})]}),this.state.emailErr&&Object(k.jsx)("p",{className:D.a.Error,children:"*Email already exists"}),!this.state.emailVal&&Object(k.jsx)("p",{className:D.a.Error,children:"*Please enter a valid email"}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"Password",children:[Object(k.jsx)(g.a.Label,{className:D.a.Label,children:"Password"}),Object(k.jsx)(g.a.Control,{type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022",onChange:this.change,name:"password",value:this.state.password})]}),Object(k.jsx)("p",{className:D.a.P,children:"Select your role:"}),Object(k.jsxs)(g.a.Select,{onChange:this.change,name:"role",value:this.state.role,children:[Object(k.jsx)("option",{value:"0",children:"Teacher"}),Object(k.jsx)("option",{value:"1",children:"Student"})]}),Object(k.jsxs)("button",{type:"submit",className:D.a.Button,onClick:this.submit,children:["Submit ",Object(k.jsx)("i",{className:"fas fa-arrow-circle-right"})]}),Object(k.jsx)("p",{style:{cursor:"pointer"},onClick:this.changeAuthFlag,children:"Existing User?"})]}):Object(k.jsxs)(k.Fragment,{children:[this.state.loginErr&&Object(k.jsx)("p",{className:D.a.Error,children:"*Invalid credentials"}),Object(k.jsxs)(g.a,{className:D.a.Font,children:[Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"Username",children:[Object(k.jsx)(g.a.Label,{className:D.a.Label,children:"Username"}),Object(k.jsx)(g.a.Control,{type:"text",placeholder:"Username",onChange:this.change,name:"username",value:this.state.username})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"Password",children:[Object(k.jsx)(g.a.Label,{className:D.a.Label,children:"Password"}),Object(k.jsx)(g.a.Control,{onChange:this.change,name:"password",value:this.state.password,type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022"})]}),Object(k.jsxs)("button",{type:"submit",className:D.a.Button,onClick:this.submit,children:["Submit ",Object(k.jsx)("i",{className:"fas fa-arrow-circle-right"})]}),Object(k.jsx)("p",{style:{cursor:"pointer"},onClick:this.changeAuthFlag,children:"New User?"}),Object(k.jsx)("p",{style:{cursor:"pointer"},children:"Forgot Password?"})]})]})]}),Object(k.jsx)(I.a,{children:Object(k.jsx)("div",{className:D.a.Vr})}),Object(k.jsx)(I.a,{className:"mt-5",children:Object(k.jsxs)("div",{className:D.a.googleBtn,children:[Object(k.jsx)("div",{className:D.a.googleIconWrapper,children:Object(k.jsx)("img",{alt:"google-icon",className:D.a.googleIconSvg,src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"})}),Object(k.jsx)("div",{className:D.a.btnText,children:"Continue with Google"})]})})]})]})]})}}]),a}(s.Component),M=Object(i.b)((function(e){return{auth:e.auth}}),(function(e){return{setAuthTrue:function(t){return e({type:"True_Auth",user:t})}}}))(P),H=(a(135),a(95)),G=a.n(H),R=function(e){return Object(k.jsxs)("p",{className:G.a.P,children:["Inspired by ",Object(k.jsx)("i",{className:"fab fa-google",style:{fontWeight:"bold",fontSize:"x-large",marginLeft:"5px"}})]})},U=function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{id:"circularMenu1",className:"circular-menu circular-menu-left",children:[Object(k.jsx)("a",{className:"floating-btn",onClick:function(){document.getElementById("circularMenu1").classList.toggle("active")},children:Object(k.jsx)("i",{className:"side-chevron fa fa-chevron-right"})}),Object(k.jsxs)("menu",{className:"items-wrapper",children:[Object(k.jsx)(c.b,{to:"/todo",className:"menu-item",children:Object(k.jsx)("i",{className:"fas fa-clipboard-list"})}),Object(k.jsx)(c.b,{to:"/profile",className:"menu-item",children:Object(k.jsx)("i",{className:"fa fa-user","aria-hidden":"true"})}),Object(k.jsx)(c.b,{to:"/calendar",className:"menu-item",children:Object(k.jsx)("i",{className:"fa fa-calendar","aria-hidden":"true"})})]})]})})},z=a(27),q=a(35),V=a.n(q),W=a(57),K=a.n(W),Y=a(96),J=a.n(Y),Z=a(75),X=a.n(Z),Q=function(e){return Object(k.jsx)("a",{href:e.viewLink,style:{textDecoration:"none",color:"#064420"},children:Object(k.jsxs)("div",{className:X.a.Flex,children:[Object(k.jsx)("div",{className:X.a.Child1,children:e.thumbnailLink?Object(k.jsx)("img",{src:e.thumbnailLink,alt:"Thumbnail",style:{width:"4.2vw"}}):Object(k.jsx)("i",{style:{fontSize:"2.5vw"},className:"fas fa-file"})}),Object(k.jsxs)("div",{className:X.a.Child2,children:[e.name,Object(k.jsx)("p",{children:J.a.extension(e.mimeType).toUpperCase()})]})]})})},$=function(e){var t=new Date(e.date),a=new Date(e.deadline);return Object(k.jsxs)("div",{className:K.a.Post,children:[Object(k.jsxs)("div",{className:K.a.Flex,children:[Object(k.jsxs)("div",{children:[(!0===e.type||!1===e.type)&&Object(k.jsx)("p",{style:{fontSize:"2.5vh",fontWeight:"bold"},children:e.title}),Object(k.jsx)("p",{children:e.username}),Object(k.jsx)("p",{children:t.toLocaleString()})]}),(!0===e.type||!1===e.type)&&Object(k.jsxs)("div",{children:["Due date: ",a.toLocaleString()]})]}),Object(k.jsx)("p",{children:e.body}),Object(k.jsxs)("div",{className:K.a.Footer,children:[Object(k.jsx)("div",{className:K.a.Files,children:e.urls.map((function(e){return Object(k.jsx)(Q,{viewLink:e.viewLink,thumbnailLink:e.thumbnailLink,name:e.name,mimeType:e.mimeType},e.id)}))}),(!0===e.type||!1===e.type)&&Object(k.jsx)(c.b,{to:"/assignment?id=".concat(e.id,"&sub=").concat(e.subId),className:K.a.Button2,children:"View"})]})]})},ee=a(58),te=a.n(ee),ae=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={active:1,body:"",files:"",title:"",point:50,deadline:"",flag:!1,time:""},e.handleFiles=function(t){e.setState({files:t.target.files}),console.log(t.target.files)},e.changeHandler=function(t){e.setState(Object(N.a)({},t.target.name,t.target.value))},e.change1=function(){e.setState({active:1})},e.change2=function(){e.setState({active:2})},e.submit=function(t){t.preventDefault(),1===e.state.active?function(){var t=new FormData;for(var a in e.state)"body"!==a&&"files"!==a||("files"===a?Array.from(e.state.files).forEach((function(e){t.append(e.name,e)})):t.append(a,e.state[a]));t.append("username",e.props.user.username),t.append("sub_id",e.props.subID),_.post("/api/content",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){window.location.reload()}))}():e.setState({deadline:new Date("".concat(e.state.deadline,"T").concat(e.state.time,"-05:30"))},(function(){var t=new FormData;for(var a in e.state)"active"!==a&&("files"===a?Array.from(e.state.files).forEach((function(e){t.append(e.name,e)})):t.append(a,e.state[a]));t.append("subjectId",e.props.subID);var s,n=Object(z.a)(t.entries());try{for(n.s();!(s=n.n()).done;){var r=s.value;console.log(r[0]+", "+r[1])}}catch(c){n.e(c)}finally{n.f()}_.post("/api/assignments",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){window.location.reload()}))}))},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(k.jsxs)(f.a,{show:this.props.show,onHide:this.props.handleClose,backdrop:"static",keyboard:!1,size:"lg",children:[Object(k.jsx)(f.a.Header,{closeButton:!0,style:{border:"none"},children:Object(k.jsxs)(f.a.Title,{className:te.a.Header,children:[Object(k.jsx)("p",{onClick:this.change1,className:1===this.state.active&&te.a.Active,children:"Announcement"}),!1===this.props.user.role&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("p",{style:{color:"#064420",fontWeight:"bold"},children:"|"}),Object(k.jsx)("p",{onClick:this.change2,className:2===this.state.active&&te.a.Active,children:"Assignment"})]})]})}),1===this.state.active?Object(k.jsx)(f.a.Body,{children:Object(k.jsxs)(g.a,{children:[Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Body"}),Object(k.jsx)(g.a.Control,{as:"textarea",placeholder:"Body",value:this.state.body,onChange:this.changeHandler,name:"body",style:{height:"25vh"}})]}),Object(k.jsxs)(g.a,{style:{marginTop:"1vh"},children:[Object(k.jsx)(g.a.Group,{controlId:"formFileMultiple",className:"mb-3",children:Object(k.jsx)(g.a.Control,{type:"file",onChange:this.handleFiles,style:{fontSize:"1.8vh"},multiple:!0})}),Object(k.jsx)("div",{className:"form-actions",style:{marginBottom:"0.5vh",display:"flex",width:"30%",justifyContent:"space-around",margin:"auto"},children:Object(k.jsxs)(w.a,{variant:"primary",type:"submit",onClick:this.submit,className:te.a.Btn,children:[Object(k.jsx)("i",{class:"fas fa-check"})," Submit"]})})]})]})}):Object(k.jsx)(f.a.Body,{children:Object(k.jsxs)(g.a,{children:[Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Title"}),Object(k.jsx)(g.a.Control,{type:"text",placeholder:"Title",value:this.state.title,onChange:this.changeHandler,name:"title"})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Body"}),Object(k.jsx)(g.a.Control,{as:"textarea",placeholder:"Body",value:this.state.body,onChange:this.changeHandler,name:"body",style:{height:"25vh"}})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsxs)(g.a.Label,{children:["Max points: ",this.state.point]}),Object(k.jsx)(g.a.Range,{value:this.state.point,onChange:this.changeHandler,name:"point"})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Deadline"}),Object(k.jsx)(g.a.Control,{type:"date",placeholder:"Deadline",value:this.state.deadline,onChange:this.changeHandler,name:"deadline"})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Deadline Time"}),Object(k.jsx)(g.a.Control,{type:"time",value:this.state.time,onChange:this.changeHandler,name:"time"})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Test/Assignment"}),Object(k.jsxs)(g.a.Select,{name:"flag",onChange:this.changeHandler,value:this.state.flag,children:[Object(k.jsx)("option",{value:!1,children:"Assignment"}),Object(k.jsx)("option",{value:!0,children:"Test"})]})]}),Object(k.jsxs)(g.a,{style:{marginTop:"1vh"},children:[Object(k.jsx)(g.a.Group,{controlId:"formFileMultiple",className:"mb-3",children:Object(k.jsx)(g.a.Control,{type:"file",onChange:this.handleFiles,style:{fontSize:"1.8vh"},multiple:!0})}),Object(k.jsx)("div",{className:"form-actions",style:{marginBottom:"0.5vh",display:"flex",width:"30%",justifyContent:"space-around",margin:"auto"},children:Object(k.jsxs)(w.a,{type:"submit",onClick:this.submit,className:te.a.Btn,children:[Object(k.jsx)("i",{class:"fas fa-check"})," Submit"]})})]})]})})]})}}]),a}(s.Component),se=Object(i.b)((function(e){return{user:e.user}}))(ae),ne=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={title:"",description:""},e.changeHandler=function(t){e.setState(Object(N.a)({},t.target.name,t.target.value))},e.submit=function(t){t.preventDefault(),_.put("/api/subject",null,{params:{_id:e.props.id,name:e.state.title,description:e.state.description}}).then((function(e){e.data&&window.location.reload()}))},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(k.jsxs)(f.a,{show:this.props.show,onHide:this.props.handleClose,backdrop:"static",keyboard:!1,children:[Object(k.jsx)(f.a.Header,{closeButton:!0,style:{backgroundColor:"#FDFAF6",color:"#064420"},children:Object(k.jsx)(f.a.Title,{children:"Update Classroom"})}),Object(k.jsx)(f.a.Body,{children:Object(k.jsxs)(g.a,{children:[Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Title"}),Object(k.jsx)(g.a.Control,{type:"text",placeholder:"Enter Classroom Name",value:this.state.title,onChange:this.changeHandler,name:"title"})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Description"}),Object(k.jsx)(g.a.Control,{type:"textarea",placeholder:"Enter Classroom Description",value:this.state.description,onChange:this.changeHandler,name:"description"})]}),Object(k.jsx)("div",{class:"form-actions",children:Object(k.jsxs)(w.a,{variant:"primary",type:"submit",onClick:this.submit,children:[Object(k.jsx)("i",{class:"fas fa-check"})," Submit"]})})]})})]})}}]),a}(s.Component),re=function(e){var t=Object(s.useState)({startTime:"",endTime:"",day:"",error:""}),a=Object(h.a)(t,2),n=a[0],r=a[1],c=Object(C.g)(),i=function(e){var t=e.target.value;r(Object(T.a)(Object(T.a)({},n),{},Object(N.a)({},e.target.name,t)))};return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(f.a,{show:e.show,onHide:function(){e.callback()},backdrop:"static",keyboard:!1,children:[Object(k.jsx)(f.a.Header,{closeButton:!0,style:{backgroundColor:"#FDFAF6",color:"#064420"},children:Object(k.jsx)(f.a.Title,{children:"Create Lecture"})}),Object(k.jsx)(f.a.Body,{children:Object(k.jsxs)(g.a,{children:[Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Select Day"}),Object(k.jsxs)(g.a.Select,{value:n.day,"aria-label":"Default select example",name:"day",onChange:i,children:[Object(k.jsx)("option",{children:"Select Day"}),Object(k.jsx)("option",{value:"Monday",children:"Monday"}),Object(k.jsx)("option",{value:"Tuesday",children:"Tuesday"}),Object(k.jsx)("option",{value:"Wednesday",children:"Wednesday"}),Object(k.jsx)("option",{value:"Thursday",children:"Thursday"}),Object(k.jsx)("option",{value:"Friday",children:"Friday"}),Object(k.jsx)("option",{value:"Saturday",children:"Saturday"}),Object(k.jsx)("option",{value:"Sunday",children:"Sunday"})]})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Select Start Time"}),Object(k.jsx)(g.a.Control,{type:"time",placeholder:"Enter Start Time",value:n.startTime,onChange:i,name:"startTime"})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Select End Time"}),Object(k.jsx)(g.a.Control,{type:"time",placeholder:"Enter End Time",value:n.endTime,onChange:i,name:"endTime"})]}),n.error?Object(k.jsx)("p",{style:{color:"red"},children:n.error}):null,Object(k.jsx)("div",{class:"form-actions",children:Object(k.jsx)(w.a,{variant:"primary",type:"submit",onClick:function(t){t.preventDefault(),console.log(n),function(){var t=Object(x.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.post("api/lecture",{day:n.day,startTime:n.startTime,endTime:n.endTime,sub_id:e.subID});case 2:a=t.sent,console.log(a),a.data?(document.querySelector(".btn-close").click(),c.push("/calendar")):r(Object(T.a)(Object(T.a)({},n),{},{error:"*Something went wrong!!"}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()},children:"Submit"})})]})})]})})},ce=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={id:"",name:"",teacher:"",description:"",content:[],link:"",assignments:[],tests:[],filter:0,showTeacherModal:!1,showEditModal:!1,showCreateLectureModal:!1},e.showTeacherModal=function(){e.setState({showTeacherModal:!0})},e.showEditModal=function(){e.setState({showEditModal:!0})},e.showCreateLectureModal=function(){e.setState({showCreateLectureModal:!0})},e.handleCloseEdit=function(){e.setState({showEditModal:!1})},e.handleCloseTeacher=function(){e.setState({showTeacherModal:!1})},e.handleCloseCreateLecture=function(){e.setState({showCreateLectureModal:!1})},e.filter=function(t){e.setState({filter:t})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this,s=new URLSearchParams(this.props.location.search),n=Object(z.a)(s);try{for(n.s();!(t=n.n()).done;){var r=Object(h.a)(t.value,2)[1];console.log(r),e=r,this.setState({id:r})}}catch(c){n.e(c)}finally{n.f()}_.get("/api/subject",{params:{_id:e}}).then((function(e){a.setState({id:e.data._id,name:e.data.name,teacher:e.data.teachersName,description:e.data.description,content:e.data.contentSchemaArray,link:e.data.videoLectureLink});var t,s=[],n=[],r=Object(z.a)(e.data.assignmentsSchemaArray);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.asg.flag?n.push(i):s.push(i)}}catch(c){r.e(c)}finally{r.f()}a.setState({tests:n,assignments:s})}))}},{key:"render",value:function(){var e=this;return Object(k.jsxs)(k.Fragment,{children:[!this.props.auth&&Object(k.jsx)(C.a,{to:"/"}),this.props.auth&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:V.a.Parent,children:[Object(k.jsxs)("div",{className:V.a.Main,children:[Object(k.jsxs)("div",{className:V.a.Header,children:[Object(k.jsx)("h2",{children:this.state.name}),Object(k.jsxs)("div",{className:V.a.Icons,children:[Object(k.jsx)("i",{class:"far fa-edit",onClick:this.showEditModal}),!this.props.user.role&&Object(k.jsx)("i",{class:"far fa-calendar-plus",onClick:this.showCreateLectureModal}),Object(k.jsx)(c.b,{to:this.state.link,children:Object(k.jsx)("i",{class:"fas fa-video"})})]})]}),Object(k.jsxs)("p",{className:V.a.Code,children:["Code: ",this.state.id]}),Object(k.jsx)("p",{className:V.a.Description,children:this.state.description})]}),Object(k.jsxs)("div",{className:V.a.Posts,children:[0===this.state.filter&&this.state.content.slice(0).reverse().map((function(e){return Object(k.jsx)($,{username:e.username,date:e.date,body:e.body,urls:e.files,type:e.type},e.body)})),1===this.state.filter&&this.state.assignments.slice(0).reverse().map((function(t){return console.log(t),Object(k.jsx)($,{username:e.state.teacher,date:t.asg.date,body:t.asg.body,urls:t.asg.files,type:t.asg.flag,id:t._id,subId:e.state.id,deadline:t.asg.deadline,title:t.asg.title},t._id)})),2===this.state.filter&&this.state.tests.slice(0).reverse().map((function(t){return Object(k.jsx)($,{username:e.state.teacher,date:t.asg.date,body:t.asg.body,urls:t.asg.files,type:t.asg.flag,id:t._id,subId:e.state.id,deadline:t.asg.deadline,title:t.asg.title},t._id)}))]})]}),Object(k.jsxs)("div",{className:V.a.Right,children:[Object(k.jsxs)("button",{className:V.a.PostButton,onClick:this.showTeacherModal,children:[Object(k.jsx)("i",{class:"fas fa-upload"})," Post"]}),Object(k.jsxs)("div",{className:V.a.ButtonsGroup,children:[Object(k.jsx)("button",{style:0===this.state.filter?{backgroundColor:"#064420",color:"white"}:null,onClick:function(){return e.filter(0)},children:"Content"}),Object(k.jsx)("button",{style:1===this.state.filter?{backgroundColor:"#064420",color:"white"}:null,onClick:function(){return e.filter(1)},children:"Assignments"}),Object(k.jsx)("button",{style:2===this.state.filter?{backgroundColor:"#064420",color:"white"}:null,onClick:function(){return e.filter(2)},children:"Tests"})]})]})]}),Object(k.jsx)(ne,{show:this.state.showEditModal,handleClose:this.handleCloseEdit,title:this.state.name,id:this.state.id,description:this.state.description}),Object(k.jsx)(se,{show:this.state.showTeacherModal,handleClose:this.handleCloseTeacher,subID:this.state.id}),Object(k.jsx)(re,{show:this.state.showCreateLectureModal,callback:this.handleCloseCreateLecture,subID:this.state.id})]})]})}}]),a}(s.Component),ie=Object(i.b)((function(e){return{auth:e.auth,user:e.user}}))(ce),oe=a(13),le=a(69),de=function(e){return Object(k.jsx)(c.b,{to:"/subject?id=".concat(e.subjectID),style:{textDecoration:"none"},children:Object(k.jsxs)(oe.a,{style:{width:"18rem",margin:"15px",border:"1px solid #06442027",boxShadow:"1px 4px 8px 1px rgba(0,0,0,0.2)",borderRadius:"1%"},children:[Object(k.jsx)(oe.a.Img,{variant:"top",src:["https://gstatic.com/classroom/themes/img_read.jpg","https://gstatic.com/classroom/themes/img_reachout.jpg","https://gstatic.com/classroom/themes/img_learnlanguage.jpg","https://gstatic.com/classroom/themes/img_bookclub.jpg","https://gstatic.com/classroom/themes/Psychology.jpg","https://gstatic.com/classroom/themes/img_breakfast.jpg","https://gstatic.com/classroom/themes/Chemistry.jpg"][Math.floor(7*Math.random())],className:"cardImage"}),Object(k.jsxs)(le.a,{className:"threeDot",children:[Object(k.jsx)(le.a.Toggle,{variant:"success",id:"dropdown-basic",size:"lg"}),Object(k.jsx)(le.a.Menu,{children:Object(k.jsx)(le.a.Item,{href:"#/action-1",children:"Unenroll"})})]}),Object(k.jsxs)(oe.a.Body,{style:{color:"#064420"},children:[Object(k.jsx)(oe.a.Title,{children:e.subjectName}),Object(k.jsx)(oe.a.Text,{children:e.teacherName})]})]})})},je=function(){var e=Object(s.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(i.d)((function(e){return e.user})),c=Object(i.d)((function(e){return e.auth}));return Object(s.useEffect)((function(){c&&function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/api/dashboard",{params:{username:r.username,role:r.role}});case 2:t=e.sent,n(t.data.SubjectsArray);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(k.jsx)(k.Fragment,{children:c?Object(k.jsx)("div",{className:"topContainer",style:{width:"90%",margin:"auto",marginTop:"3%"},children:a.map((function(e){return Object(k.jsx)(de,{subjectID:e.subjectID,subjectName:e.name,teacherName:e.teachersName},e.subjectID)}))}):Object(k.jsx)(C.a,{to:"/"})})},ue=a(99),he=a.n(ue),be=a(56),me=a(47),pe=a.n(me),Oe=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={marks:e.props.marks},e.changeMarks=function(t){e.setState({marks:t.target.value})},e.updateMarks=function(t){_.put("/api/marks",null,{params:{username:e.props.username,asg_id:e.props.assign_id,marks:t.target.value}}).then((function(a){console.log(a.data),e.setState({marks:t.target.value})}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=new Date,t=new Date(this.props.deadline);return Object(k.jsxs)(be.a.Item,{eventKey:this.props.id,children:[Object(k.jsx)(be.a.Header,{children:Object(k.jsxs)("div",{className:pe.a.Header,style:{padding:"0 2vw"},children:[Object(k.jsx)("p",{children:this.props.username}),Object(k.jsxs)("p",{children:[Object(k.jsx)("input",{className:pe.a.Input,onBlur:this.updateMarks,onChange:this.changeMarks,value:this.state.marks<0?"":this.state.marks}),"/",this.props.points]}),1===this.props.flag&&e>t&&Object(k.jsx)("p",{className:pe.a.Red,children:"Missing"}),1===this.props.flag&&e<t&&Object(k.jsx)("p",{className:pe.a.Grey,children:"Yet to Submit"}),2===this.props.flag&&Object(k.jsx)("p",{className:pe.a.Red,children:"Done late"}),3===this.props.flag&&Object(k.jsx)("p",{className:pe.a.Green,children:"Submitted"})]})}),Object(k.jsx)(be.a.Body,{style:{width:"30vw"},children:this.props.urls.map((function(e){return Object(k.jsx)(Q,{viewLink:e.viewLink,thumbnailLink:e.thumbnailLink,name:e.name,mimeType:e.mimeType},e.id)}))})]})}}]),a}(s.Component),xe=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={title:"",postdate:"",points:0,duedate:"",assignments:[]},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e,t=this,a=new URLSearchParams(this.props.location.search),s={},n=Object(z.a)(a);try{for(n.s();!(e=n.n()).done;){var r=Object(h.a)(e.value,2),c=r[0],i=r[1];s[c]=i}}catch(o){n.e(o)}finally{n.f()}_.get("/api/markAssignments",{params:{sub_id:s.sub,asg_id:s.asg}}).then((function(e){console.log(e.data),t.setState({title:e.data.asg_details.asg.title,postdate:e.data.asg_details.asg.date,points:e.data.asg_details.asg.points,duedate:e.data.asg_details.asg.deadline});var a=[];e.data.marks_array.forEach((function(e){a.push({id:e.marks._id,assign_id:e.marks.assignmentId,username:e.username,marks:e.marks.marks,urls:e.marks.files,flag:e.marks.flag})})),t.setState({assignments:a})}))}},{key:"render",value:function(){var e=this,t=new Date(this.state.postdate),a=new Date(this.state.duedate);return Object(k.jsxs)(k.Fragment,{children:[(!this.props.auth||this.props.user.role)&&Object(k.jsx)(C.a,{to:"/"}),this.props.auth&&!this.props.user.role&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:he.a.Parent,children:[Object(k.jsx)(oe.a,{style:{width:"40vw",margin:"3vw",border:"1px solid #06442027",boxShadow:"1px 4px 8px 1px rgba(0,0,0,0.2)",borderRadius:"1%"},children:Object(k.jsxs)(oe.a.Body,{style:{color:"#064420"},children:[Object(k.jsx)(oe.a.Title,{style:{fontSize:"2vw"},children:this.state.title}),Object(k.jsx)("div",{style:{height:"0.5vh",backgroundColor:"#E4EFE7",margin:"0.5vh 0"}}),Object(k.jsx)(oe.a.Text,{style:{fontSize:"1.2vw",marginTop:"2.5vh"},children:Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:t.toLocaleString()}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("span",{children:[this.state.points," points"]})," ",Object(k.jsxs)("span",{style:{float:"right"},children:["Due Date: ",a.toLocaleString()]})]})]})})]})}),Object(k.jsx)(be.a,{children:this.state.assignments.map((function(t){return Object(k.jsx)(Oe,{assign_id:t.assign_id,id:t.id,username:t.username,marks:t.marks,points:e.state.points,flag:t.flag,urls:t.urls,deadline:e.state.duedate},t.id)}))})]})," "]})]})}}]),a}(s.Component),fe=Object(i.b)((function(e){return{auth:e.auth,user:e.user}}))(xe),ge=a(68),ve=a.n(ge),ye=function(e){var t,a=Object(s.useState)(null),n=Object(h.a)(a,2),r=n[0],c=n[1],o=Object(s.useState)(""),l=Object(h.a)(o,2),d=l[0],j=l[1],u=Object(i.d)((function(e){return e.user})),b=Object(i.d)((function(e){return e.auth}));return Object(k.jsx)(oe.a,{style:{width:"18vw",margin:"15px",border:"1px solid #06442027",boxShadow:"1px 4px 8px 1px rgba(0,0,0,0.2)",borderRadius:"1%"},children:Object(k.jsxs)(oe.a.Body,{style:{color:"#064420"},children:[Object(k.jsx)(oe.a.Title,{children:"Your Work"}),Object(k.jsxs)(oe.a.Text,{style:{fontSize:"0.9vw"},children:[e.files.map((function(e){return Object(k.jsx)(Q,{viewLink:e.viewLink,thumbnailLink:e.thumbnailLink,name:e.name,mimeType:e.mimeType},e.id)})),Object(k.jsxs)(g.a,{style:{marginTop:"1vh"},children:[d?Object(k.jsx)("p",{style:{color:"red"},children:d}):null,Object(k.jsx)(g.a.Group,{controlId:"formFileMultiple",className:"mb-3",children:Object(k.jsx)(g.a.Control,{type:"file",onChange:function(e){c(e.target.files)},style:{fontSize:"1.8vh"},multiple:!0})}),Object(k.jsx)("div",{className:"form-actions",style:{marginBottom:"0.5vh"},children:Object(k.jsx)(w.a,{type:"submit",className:ve.a.btn,onClick:function(t){t.preventDefault(),console.log(r);var a=new FormData;if(r){Array.from(r).forEach((function(e){a.append(e.name,e)})),a.append("asg_id",e.assignmentId),a.append("username",u.username);var s,n=Object(z.a)(a.entries());try{for(n.s();!(s=n.n()).done;){var c=s.value;console.log(c[0]+": "+c[1])}}catch(i){n.e(i)}finally{n.f()}b&&function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("api/uploadAssignment",a,{headers:{"Content-Type":"multipart/form-data"}});case 2:e.sent.data?window.location.reload():j("*Something went wrong!!");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}},children:"Upload"})})]}),Object(k.jsx)("div",{className:"form-actions",children:Object(k.jsx)(w.a,(t={type:"submit",className:ve.a.btn,onClick:function(){var t=function(){var t=Object(x.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.post("api/submitAssignment",{deadline:e.deadline,asg_id:e.assignmentId,username:u.username});case 2:t.sent.data&&window.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();b&&1==e.submittedState&&t()}},Object(N.a)(t,"className",3==e.submittedState?ve.a.btnDisabled:ve.a.btnActive),Object(N.a)(t,"children",3==e.submittedState||2==e.submittedState?Object(k.jsx)("span",{children:"Submitted"}):Object(k.jsx)("span",{children:"Hand In"})),t))})]})]})})},_e=a(76),we=a.n(_e),Ce=function(e){var t=Object(s.useState)({classroomName:"",description:"",teacherName:""}),a=Object(h.a)(t,2),n=a[0],r=a[1],c=function(e){var t=e.target.value;r(Object(T.a)(Object(T.a)({},n),{},Object(N.a)({},e.target.name,t))),console.log(n)};return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(f.a,{show:e.show,onHide:function(){return e.callback()},backdrop:"static",keyboard:!1,children:[Object(k.jsx)(f.a.Header,{closeButton:!0,style:{backgroundColor:"#FDFAF6",color:"#064420"},children:Object(k.jsx)(f.a.Title,{children:"Edit Classroom"})}),Object(k.jsx)(f.a.Body,{children:Object(k.jsxs)(g.a,{children:[Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formText",children:[Object(k.jsx)(g.a.Label,{children:"Classroom Name"}),Object(k.jsx)(g.a.Control,{type:"text",placeholder:"Enter Classroom Name",value:n.classroomName,onChange:c,name:"classroomName"})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formText",children:[Object(k.jsx)(g.a.Label,{children:"Teacher's Name"}),Object(k.jsx)(g.a.Control,{type:"text",placeholder:"Enter Teacher's Name",value:n.teacherName,onChange:c,name:"teacherName"})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formText",children:[Object(k.jsx)(g.a.Label,{children:"Description"}),Object(k.jsx)(g.a.Control,{type:"textarea",placeholder:"Enter Classroom Description",value:n.description,onChange:c,name:"description"})]}),Object(k.jsx)("div",{class:"form-actions",children:Object(k.jsx)(w.a,{variant:"primary",type:"submit",children:"Submit"})})]})})]})})},ke=function(e){var t=Object(s.useState)(!1),a=Object(h.a)(t,2),n=a[0],r=a[1];return Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",fontSize:"1.5vw",padding:"1vh",boxShadow:"1px 4px 8px 1px rgba(0,0,0,0.2)",borderRadius:"1%",margin:"1vw"},children:[Object(k.jsx)("i",{className:"fas fa-edit ".concat(we.a.icon),onClick:function(){r(!n)}}),Object(k.jsx)(c.b,{to:"/score?asg=".concat(e.asg,"&sub=").concat(e.sub),children:Object(k.jsx)("i",{class:"fas fa-check-circle ".concat(we.a.icon),onClick:function(){}})}),Object(k.jsx)("i",{class:"fas fa-trash-alt ".concat(we.a.icon),onClick:function(){}}),Object(k.jsx)(Ce,{show:n,callback:function(){r(!1)}})]})},Se=(a(139),function(e){var t=Object(s.useState)({subId:"",id:"",title:"",date:"",deadline:"",description:"",marks:"",maxmarks:"",files:[],studentFiles:[],submittedState:0}),a=Object(h.a)(t,2),n=a[0],r=a[1],c=Object(i.d)((function(e){return e.user})),o=Object(i.d)((function(e){return e.auth})),l=new URLSearchParams(e.location.search);return Object(s.useEffect)((function(){var e,t={},a=Object(z.a)(l);try{for(a.s();!(e=a.n()).done;){var s=Object(h.a)(e.value,2),n=s[0],i=s[1];t[n]=i}}catch(d){a.e(d)}finally{a.f()}o&&function(){var e=Object(x.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/api/assignments",{params:{asg_id:t.id,sub_id:t.sub,username:c.username,role:c.role?1:0}});case 2:a=e.sent,console.log(a.data),r({subId:t.sub,id:a.data.Asg_array._id,title:a.data.Asg_array.asg.title,date:new Date(a.data.Asg_array.asg.date),deadline:new Date(a.data.Asg_array.asg.deadline),description:a.data.Asg_array.asg.body,maxmarks:a.data.Asg_array.asg.points,files:a.data.Asg_array.asg.files,marks:a.data.User_makrs?a.data.User_makrs.marks:"",studentFiles:a.data.User_makrs?a.data.User_makrs.files:[],submittedState:a.data.User_makrs?a.data.User_makrs.flag:""});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(k.jsxs)(k.Fragment,{children:[!o&&Object(k.jsx)(C.a,{to:"/"}),o&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",margin:"3% 0"},children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(oe.a,{style:{width:"40vw",margin:"15px",border:"1px solid #06442027",boxShadow:"1px 4px 8px 1px rgba(0,0,0,0.2)",borderRadius:"1%"},children:Object(k.jsxs)(oe.a.Body,{style:{color:"#064420"},children:[Object(k.jsx)(oe.a.Title,{children:n.title}),Object(k.jsx)("div",{style:{height:"0.5vh",backgroundColor:"#E4EFE7",margin:"0.5vh 0"}}),Object(k.jsx)(oe.a.Text,{style:{fontSize:"0.9vw"},children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:["Posted on: ",n.date.toLocaleString()]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("span",{children:[n.marks<0?"__":n.marks," / ",n.maxmarks]})," ",Object(k.jsxs)("span",{style:{float:"right"},children:["Due: ",n.deadline.toLocaleString()]})]})]})})]})}),Object(k.jsx)(oe.a,{style:{width:"40vw",margin:"15px",border:"1px solid #06442027",boxShadow:"1px 4px 8px 1px rgba(0,0,0,0.2)",borderRadius:"1%"},children:Object(k.jsxs)(oe.a.Body,{style:{color:"#064420"},children:[Object(k.jsx)(oe.a.Text,{style:{fontSize:"0.9vw"},children:Object(k.jsx)("div",{children:n.description})}),Object(k.jsx)("div",{children:n.files.map((function(e){return Object(k.jsx)(Q,{viewLink:e.viewLink,thumbnailLink:e.thumbnailLink,name:e.name,mimeType:e.mimeType},e.id)}))})]})})]}),Object(k.jsx)("div",{children:c.role?Object(k.jsx)(ye,{files:n.studentFiles,assignmentId:n.id,deadline:n.deadline,submittedState:n.submittedState}):Object(k.jsx)(ke,{sub:n.subId,asg:n.id})})]})})]})}),Ne=function(e){return Object(k.jsx)("div",{style:{margin:"1vh",backgroundColor:"#E4EFE7",padding:"0.3vw",borderRadius:"10px",fontSize:"0.8vw",textAlign:"center"},children:Object(k.jsxs)("span",{children:[" ",e.start," - ",e.end,Object(k.jsx)("br",{}),e.subject]})})},Te=function(e){return Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",borderBottomStyle:"solid",borderBottomWidth:"0.15em",borderBottomColor:"#E4EFE7",height:"10vh"},children:[Object(k.jsx)("div",{style:{width:"7vw",textAlign:"center"},children:e.day}),e.lectures.map((function(e){return Object(k.jsx)(Ne,{start:e.startTime,end:e.endTime,subject:e.subjectName},e.startTime)}))]})},Ee=function(){var e=Object(s.useState)({Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[],Saturday:[],Sunday:[]}),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(i.d)((function(e){return e.user})),c=Object(i.d)((function(e){return e.auth}));return Object(s.useEffect)((function(){c&&function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("api/calender",{params:{role:r.role,username:r.username}});case 2:t=e.sent,a={Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[],Saturday:[],Sunday:[]},t.data.forEach((function(e){var t=e.subjectName;e.lectureSchemaArray.forEach((function(e){var s={};s.startTime=e.lecture.startTime,s.endTime=e.lecture.endTime,s.subjectName=t,s.id=e.lecture._id,a[e.lecture.day].push(s)}))})),Object.keys(a).map((function(e){a[e].sort((function(e,t){var a=new Date("1970-01-01 "+e.startTime+":00"),s=new Date("1970-01-01 "+t.startTime+":00");return a>s?1:a<s?-1:0}))})),n(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(k.jsxs)(k.Fragment,{children:[c?null:Object(k.jsx)(C.a,{to:"/"}),c?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{style:{backgroundColor:"#FDFAF6",width:"80%",margin:"auto",marginTop:"3%",paddingLeft:"1vw",paddingRight:"1vw",border:"1px solid #06442027",boxShadow:"1px 4px 8px 1px rgba(0,0,0,0.2)"},children:Object.keys(a).map((function(e){return Object(k.jsx)(Te,{day:e,lectures:a[e]},e)}))})}):null]})},Fe=a(59),Le=a.n(Fe),Ae=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={currentPassword:"",newPassword:"",error:!1},e.changeHandler=function(t){e.setState(Object(N.a)({},t.target.name,t.target.value))},e.submit=function(e){e.preventDefault()},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(f.a,{show:this.props.show,onHide:this.props.handleClose,backdrop:"static",keyboard:!1,children:[Object(k.jsx)(f.a.Header,{closeButton:!0,style:{backgroundColor:"#FDFAF6",color:"#064420"},children:Object(k.jsx)(f.a.Title,{children:"Reset Password"})}),Object(k.jsx)(f.a.Body,{children:Object(k.jsxs)(g.a,{children:[Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"Current Password"}),Object(k.jsx)(g.a.Control,{type:"text",placeholder:"Current Password",value:this.state.currentPassword,name:"currentPassword",onChange:this.changeHandler})]}),Object(k.jsxs)(g.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(g.a.Label,{children:"New Password"}),Object(k.jsx)(g.a.Control,{type:"text",placeholder:"New Password",value:this.state.newPassword,name:"newPassword",onChange:this.changeHandler})]}),this.state.error?Object(k.jsx)("p",{style:{color:"red"},children:this.state.error}):null,Object(k.jsx)("div",{className:"form-actions",children:Object(k.jsx)(w.a,{variant:"primary",type:"submit",onClick:this.submit,children:"Submit"})})]})})]})})}}]),a}(s.Component),Ie=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={show:!1},e.showResetModal=function(){e.setState({show:!0})},e.handleClose=function(){e.setState({show:!1})},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(k.jsxs)(k.Fragment,{children:[!this.props.auth&&Object(k.jsx)(C.a,{to:"/"}),this.props.auth&&Object(k.jsxs)("div",{className:Le.a.Parent,children:[Object(k.jsx)("i",{className:"fas fa-user-circle"}),Object(k.jsxs)("div",{className:Le.a.Child,children:[Object(k.jsx)("p",{children:"Username"}),Object(k.jsx)("p",{children:this.props.user.username})]}),Object(k.jsxs)("div",{className:Le.a.Child,children:[Object(k.jsx)("p",{children:"Email"}),Object(k.jsx)("p",{children:this.props.user.email})]}),Object(k.jsxs)("div",{className:Le.a.Child,children:[Object(k.jsx)("p",{children:"Role"}),this.props.user.role?Object(k.jsx)("p",{children:"Student"}):Object(k.jsx)("p",{children:"Teacher"})]}),Object(k.jsx)("button",{className:Le.a.Button,onClick:this.showResetModal,children:"Reset password"})]}),Object(k.jsx)(Ae,{show:this.state.show,handleClose:this.handleClose})]})}}]),a}(s.Component),Be=Object(i.b)((function(e){return{auth:e.auth,user:e.user}}))(Ie),De=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={auth:!1},e}return Object(d.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("user"));e&&(this.setState({auth:!0}),this.props.setAuthTrue(e))}},{key:"render",value:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)(F,{}),Object(k.jsxs)(C.d,{children:[Object(k.jsx)(C.b,{path:"/profile",component:Be}),Object(k.jsx)(C.b,{path:"/score",component:fe}),Object(k.jsx)(C.b,{path:"/subject",component:ie}),Object(k.jsx)(C.b,{path:"/assignment",component:Se}),Object(k.jsx)(C.b,{path:"/home",component:je}),Object(k.jsx)(C.b,{path:"/calendar",component:Ee}),Object(k.jsx)(C.b,{path:"*",component:M})]}),this.props.auth&&Object(k.jsx)(U,{}),Object(k.jsx)(R,{})]})}}]),a}(s.Component),Pe=Object(i.b)((function(e){return{auth:e.auth}}),(function(e){return{setAuthTrue:function(t){return e({type:"True_Auth",user:t})}}}))(De),Me={auth:!1,user:null},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"False_Auth":return Object(T.a)(Object(T.a)({},e),{},{auth:!1,user:null});case"True_Auth":return Object(T.a)(Object(T.a)({},e),{},{auth:!0,user:t.user});default:return e}},Ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,146)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))},Re=Object(o.a)(He,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(k.jsx)(i.a,{store:Re,children:Object(k.jsx)(c.a,{children:Object(k.jsx)(Pe,{})})}),document.getElementById("root")),Ge()},35:function(e,t,a){e.exports={Parent:"Subject_Parent__3flhp",Main:"Subject_Main__2A26V",Header:"Subject_Header__3vw40",Icons:"Subject_Icons__w3BZS",Code:"Subject_Code__27ITV",Right:"Subject_Right__2lH_r",ButtonsGroup:"Subject_ButtonsGroup__15y_H",PostButton:"Subject_PostButton__3DkX4"}},47:function(e,t,a){e.exports={Header:"Assignment_Header__1nvDm",Red:"Assignment_Red__1Thge",Green:"Assignment_Green__yYAcO",Input:"Assignment_Input__2ftEc",Grey:"Assignment_Grey__189ii"}},57:function(e,t,a){e.exports={Post:"Post_Post__IPoCb",Flex:"Post_Flex__2rRKP",Icon:"Post_Icon__Taghi",Button2:"Post_Button2__244Kb",Files:"Post_Files__1Ufcp"}},58:function(e,t,a){e.exports={Header:"PostTeacher_Header__2RrqY",Active:"PostTeacher_Active__3_2K-",Btn:"PostTeacher_Btn__2MUCS"}},59:function(e,t,a){e.exports={Parent:"Profile_Parent__3vZEq",Child:"Profile_Child__3tlsZ",Button:"Profile_Button__13lnZ"}},68:function(e,t,a){e.exports={btn:"YourWork_btn__196Sc",btnActive:"YourWork_btnActive__2b14k",btnDisabled:"YourWork_btnDisabled__fq60M"}},75:function(e,t,a){e.exports={Flex:"File_Flex__3fb0D",Child1:"File_Child1__3KIbk",Child2:"File_Child2__1DsAn"}},76:function(e,t,a){e.exports={icon:"TeacherEditOptions_icon__1L-lk"}},95:function(e,t,a){e.exports={P:"Footer_P__tul5V"}},99:function(e,t,a){e.exports={Parent:"Marks_Parent__ExQgd"}}},[[140,1,2]]]);
//# sourceMappingURL=main.9e4fa3a3.chunk.js.map